<h1>Edit ADVERTISEMENT of {{update.title}}</h1>

<table style="width: 80%; align-content: center;">
    <tr style="height: 70px;">
        <th>TITLE:</th>
        <td>{{update.title}}</td>
        <td style="width: 50%;">
            <p *ngIf="!isUpdate1;then thenblock1;else elseblock1"></p>
            <ng-template #thenblock1>
                <button (click)="change1()">CHANGE</button>
            </ng-template>
            <ng-template #elseblock1>

                <input type="text" #title="ngModel" required minlength="3" [class.is-invalid]="title.invalid && title.touched" class="form-control" [(ngModel)]="test.title" name="title" required >
                <div *ngIf="title.invalid && title.touched">
                    <small class="text-danger" *ngIf="title.errors?.required">Title is required</small>
                    <small class="text-danger" *ngIf="title.errors?.minlength">Title must be at least 3 characters</small>
                </div>
                
                <button (click)="cancelchange1()">CANCEL</button>
            </ng-template>

        </td>
    </tr>
    <tr style="height: 70px;">
        <th>NAME:</th>
        <td>{{update.name}}</td>
        <td>
            <p *ngIf="!isUpdate2;then thenblock2;else elseblock2"></p>
            <ng-template #thenblock2>
                <button (click)="change2()">CHANGE</button>
            </ng-template>
            <ng-template #elseblock2>
                
                <input #name="ngModel" required minlength="3" [class.is-invalid]="name.invalid && name.touched" type="text" class="form-control" [(ngModel)]="test.name"   name="Username" required>
                <div *ngIf="name.invalid && name.touched">
                    <small class="text-danger" *ngIf="name.errors?.required">Name is required</small>
                    <small class="text-danger" *ngIf="name.errors?.minlength">Name must be at least 3 characters</small>
                </div>

                <button (click)="cancelchange2()">CANCEL</button>
            </ng-template>
        </td>
    </tr>
    <tr style="height: 70px;">
        <th>CATEGORY:</th>
        <td>{{update.category}}</td>
        <td>
            <p *ngIf="!isUpdate3;then thenblock3;else elseblock3"></p>
            <ng-template #thenblock3>
                <button (click)="change3()">CHANGE</button>
            </ng-template>
            <ng-template #elseblock3>
                
                <select #categoryy="ngModel"  (blur)="validatecat(categoryy.value)" (change)="validatecat(categoryy.value)" [class.is-invalid]="caterr && categoryy.touched" class="custom-select" name="category" [(ngModel)]="test.category">
                    <option value="default">Select the category</option>
                    <option *ngFor="let items of category">{{items}}</option>
                </select>
                <small class="text-danger" [class.d-none]="!caterr || categoryy.untouched">Please selct a category</small>
            
                <button (click)="cancelchange3()">CANCEL</button>
            </ng-template>
        </td>
    </tr>
    <tr style="height: 70px;">
        <th>DESCRIPTION:</th>
        <td>{{update.description}}</td>
        <td>
            <p *ngIf="!isUpdate4;then thenblock4;else elseblock4"></p>
            <ng-template #thenblock4>
                <button (click)="change4()">CHANGE</button>
            </ng-template>
            <ng-template #elseblock4>
                
                <textarea #disc="ngModel" required minlength="10" [class.is-invalid]="disc.invalid && disc.touched" class="form-control" name="description" [(ngModel)]="test.description" required></textarea>
                <div *ngIf="disc.invalid && disc.touched">
                    <small class="text-danger" *ngIf="disc.errors?.required">Description is required</small>
                    <small class="text-danger" *ngIf="disc.errors?.minlength">Description must be at least 10 characters</small>
                </div>                              
                
                <button (click)="cancelchange4()">CANCEL</button>
            </ng-template>
        </td>
    </tr>
</table>
<table>
    <tr>
        <td>
            <button (click)="canceledit()" class="btn">CANCEL</button>
        </td>
        <td *ngIf="isUpdate1 || isUpdate2 || isUpdate3 || isUpdate4">
            <button  (click)="newchange()" class="btn">UPDATE</button>
        </td>
        
    </tr>
</table>


